pipeline{
    agent any
     
        stages{
            stage("Git Clone"){
                steps{
                git credentialsId: '6d9b2875-79c0-498c-9f0c-8a9d1fa06380', url: 'https://github.com/msg2fahd/maven-project.git'
                }
                    
            }
            // stage("Build jar file"){
            //    steps{
            //    bat 'mvn clean install'
            //     } 
            // }

            stage("Scanning-build"){
                steps{
                    // script{
                    // withSonarQubeEnv('sonar-scanner') {
                    //     bat 'mvn sonar:sonar'
                    //     }
                    //  bat 'mvn clean install'   
                    // }  
                    bat 'mvn clean verify sonar:sonar'
  
                }
            }
            stage("Email-Notification"){
                mail bcc: '', body: '''Hi,
                welcome to jenkins email alert.''', cc: '', from: '', replyTo: '', subject: 'jenkins job', to: '5mo6tx@gmail.com'
            }
            
        }
            
        
}